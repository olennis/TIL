### preview

회사내에 js 스터디가 있다는 사실을 알게 됐고, 마침 deep dive로 진행이 된다는 나에게는 이득인 소식을 들어버렸다. 혼자서 하기에는 너무 벅찬 부분이 많고, 나태해질때가 많았기 때문에 이 기회에 조금씩이라도 js를 공부하려고 한다. 그렇기 때문에 챕터 2에서 갑자기 챕터 20으로 점프를 했고.. 늦게 시작한만큼 더 빡시게 해서 따라가고 싶다. 20장은 우선 기존에 공부한 [use strict](https://www.notion.so/use-strict-22e1ec151d78425f8a687efa893dffdc) 부분이랑 겹치는 부분이 많지만.. 복습도 할겸, 통일성을 유지하기 위해 다시 한 번 적어보려한다.

# strict mode

```jsx
function foo() {
	x=10;
}
foo();
console.log(x)//10
```

위의 함수에서 선언하지 않은 x 변수에 값을 할당했다. 이 때, x가 무엇인지 알아야 x에 값을 할당 할 수 있기 때문에 자바스크립트 엔진은 스코프 체인을 통해 x를 탐색한다. foo 함수에서도 x 변수 선언이 없고, 상위스코프(전역)에서도 x 변수의 선언이 없기 때문에 Reference Error를 발생시킬 것 같지만 자바스크립트 엔진은 암묵적으로 전역 객체에 x 프로퍼티를 동적 생성한다. 이 때 전역 객체의 x프로퍼티는 전역변수처럼 사용할 수 있다. 이런 현상을 **암묵적 전역**이라고 한다. 이런 암묵적 전역은 보통 개발자의 의도랑은 상관없이 발생하기 때문에 오류를 발생시킬 가능성이 크다. 따라서 반드시 let, var, const 등의 키워드로 변수를 선언한 다음 사용해야 한다.

이런 잠재적인 오류를 막기 위해 ES5부터 strict mode가 추가되었다. (ES6에서 도입된 클래스와 모듈은 기본적으로 strict mode가 적용된다.)strict mode는 자바스크립트 언어의 문법을 좀 더 엄격히 적용하여 오류를 발생 시킬 가능성이 높거나 자바스크립트 엔진의 최적화 작업에 문제를 일으킬 수 있는 코드에 대해 명시적인 에러를 발생시킨다.

```jsx
'use strict'
function foo() {
	x=10; //Reference Error: x is not defined
}
foo();
console.log(x)
```

 strict mode는 전역의 선두 혹은 함수의 선두에 선언하게 된다. 하지만 전역의 선두는 지양하는 편이 좋다고 책의 저자는 말한다. 전역에 적용한 strict mode는 스크립트 단위로 적용되기 때문인데, 이는 strict mode와 non-strict mode를 혼용하게 되는 경우 오류를 발생시킬 수 있다. 이런 경우에는 즉시실행함수로 스크립트 전체를 감싸서 스코프를 구분하고, 함수 선두에 stirct mode를 사용한다. 

함수단위로도 strict mode를 적용하는 방법도 피해야 하는 방법인데, 어떤 함수는 적용하고 어떤함수는 적용하지 않는 것은 바람직하지 않으며 모든 함수에 일일이 strict mode를 적용하는 것도 번거로워지기 때문이다.

strict mode 에서 함수를 일반함수로서 호출하면 this에 undefined가 바인딩된다. 생성자 함수가 아닌 일반 함수 내부에서는 this를 사용할 필요가 없기 때문이다. 또한 strict mode에서는 매개변수에 전달된 인수를 재할당하여 변경해도 arguments 객체에 반영되지 않는다.
